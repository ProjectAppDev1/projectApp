<!DOCTYPE html>
<html data-bs-theme="light" lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <title>Home</title>
    <link rel="stylesheet" href="assets/bootstrap/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />
<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>

   <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Inter:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&amp;display=swap">
   
</head>

<body>
    <nav class="navbar navbar-light navbar-expand-md sticky-top navbar-shrink py-3" id="mainNav">
        <div class="container"><a class="navbar-brand d-flex align-items-center" href="/">
            <span class="bs-icon-sm bs-icon-circle bs-icon-primary shadow d-flex justify-content-center align-items-center me-2 bs-icon">
                <svg xmlns="http://www.w3.org/2000/svg" width="2em" height="2em" fill="none"  stroke-linecap="round" stroke-linejoin="round" stroke-width="2" class="bi bi-new-icon" viewBox="0 0 16 16">
                    <image xlink:href="https://www.svgrepo.com/show/530620/wine.svg" width="18" height="18" />
                </svg>
              </span><span>TAMY</span></a><button data-bs-toggle="collapse" class="navbar-toggler" data-bs-target="#navcol-1"><span class="visually-hidden">Toggle navigation</span><span class="navbar-toggler-icon"></span></button>
                    <div class="collapse navbar-collapse" id="navcol-1">
                      <ul class="navbar-nav mx-auto">
                          <li class="nav-item"><a class="nav-link active" href='http://localhost:5000/'>Home</a></li>
                          <li class="nav-item"><a class="nav-link" href="Products">Products</a></li>
                          <li class="nav-item"><a class="nav-link" href="about">about</a></li>
                          <li class="nav-item"><a class="nav-link" href="Contact">Contact</a></li>
                          <% if (user) { %>
                            <li class="nav-item"><a class="nav-link" href="PrivateArea">Private area</a></li>
                            <li class="nav-item"><a class="nav-link" href="cart">My Cart</a></li>
                          <% } %>
                          <% if (user.isAdmin) { %>
                            <li class="nav-item"><a class="nav-link" href="admin">Admin Page</a></li>
                          <% } %>
                      </ul>
                      <% if (user) { %>
                        <button class="btn btn-danger shadow" onclick="onDisconnect()">Disconnect</button>
                      <% } else { %>
                        <a class="btn btn-primary shadow" role="button" href="login">Login</a>
                        <a class="btn btn-primary shadow" role="button" href="register">Register</a>
                      <% } %>
                  </div>
        </div>
    </nav>
    <header class="bg-primary-gradient">
        <div class="container pt-4 pt-xl-5">
            <div class="row pt-5">
                <div class="col-md-8 col-xl-6 text-center text-md-start mx-auto">
                    <div class="text-center">
                     
                        <p class="fw-bold mb-2">TAMY</p>
                        <h1 class="fw-bold"><strong>Luxury Wine Boutique</strong></h1>
                    </div>
                </div>
                <div class="col-12 col-lg-10 mx-auto">
                    <div class="position-relative" style="display: flex;flex-wrap: wrap;justify-content: flex-end;">
                        <div style="position: relative;flex: 0 0 45%;transform: translate3d(-15%, 35%, 0);"><img class="img-fluid" data-bss-parallax="" data-bss-parallax-speed="0.8" src="assets/img/products/3.jpg"></div>
                        <div style="position: relative;flex: 0 0 45%;transform: translate3d(-5%, 20%, 0);"><img class="img-fluid" data-bss-parallax="" data-bss-parallax-speed="0.4" src="assets/img/products/2.jpg"></div>
                       
                    </div>
                </div>
            </div>
        </div>
    </header>
  
    <section class="py-5 mt-5">
        <div class="container py-5">
            <div class="row mb-5">
                <div class="col-md-8 col-xl-6 text-center mx-auto">
                    <p class="fw-bold mb-2">Testimonials</p>
                    <h2 class="fw-bold"><strong>What People Say About us</strong></h2>
                    <p class="text-muted">We here for you&nbsp;</p>
                </div>
            </div>
            <div class="row row-cols-1 row-cols-sm-2 row-cols-lg-3 d-sm-flex justify-content-sm-center">
                <div class="col mb-4">
                    <div class="d-flex flex-column align-items-center align-items-sm-start">
                        <p class="bg-body-tertiary border rounded border-0 border-light p-4">I was happy to arrive at the wine making center! The place is spectacular and the service is excellent.</p>
                        <div class="d-flex"><img class="rounded-circle flex-shrink-0 me-3 fit-cover" width="50" height="50" src="https://www.ynet.co.il/PicServer4/2016/02/18/6827789/59375660980100490332no.jpg">
                            <div>
                                <p class="fw-bold text-primary mb-0">Sharon levi</p>
                
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col mb-4">
                    <div class="d-flex flex-column align-items-center align-items-sm-start">
                        <p class="bg-body-tertiary border rounded border-0 border-light p-4">Ordering on the website is so convenient and customer service is always available! The wines are of a very high standard.</p>
                        <div class="d-flex"><img  class="rounded-circle flex-shrink-0 me-3 fit-cover" width="50" height="50" src="https://files.geektime.co.il/wp-content/uploads/2021/06/LIOR-FRENKEL-1624866659.jpg">
                            <div>
                                <p class="fw-bold text-primary mb-0">Moshe mor</p>
                                <p class="text-muted mb-0">expert wines</p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col mb-4">
                    <div class="d-flex flex-column align-items-center align-items-sm-start">
                        <p class="bg-body-tertiary border rounded border-0 border-light p-4">I have never tasted wine like I ordered anywhere else. The customer service matched my exact taste. I will order from you again.</p>
                        <div class="d-flex"><img class="rounded-circle flex-shrink-0 me-3 fit-cover" width="50" height="50" src="https://medias.timeout.co.il/www/uploads/2019/07/Img26261-750x500-1563362829.jpg">
                            <div>
                                <p class="fw-bold text-primary mb-0">David Smith</p>
                            
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <section class="py-5">
        <div class="container">
            <div class="row mb-5">
                <div class="col-md-8 col-xl-6 text-center mx-auto">
                    <h2 class="fw-bold">Where you can find us</h2>
                </div>
                <div id="temp"></div>
            </div>                  
    </section>
    <div id="map-container">
        <div id="map" style="width: 100%; height: 300px;"></div>
      </div>
      
    <script>
        var map = L.map('map').setView([31.99072, 34.77486], 13);
    
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: 'Map data &copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap contributors</a>'
        }).addTo(map);
    
        const initMap = async() => {
            const branches = await $.get('/branch')

            branches.forEach(branch => {
                console.log(parseFloat(branch.latitude),parseFloat(branch.longitude))
                L.marker([parseFloat(branch.latitude),parseFloat(branch.longitude)])
            .addTo(map)
            .bindPopup('A marker on the map.');
            })
        }
        initMap();

        const fetchWeather = async () => {
            const weather = await $.get(`https://api.openweathermap.org/data/2.5/weather?lat=44.34&lon=10.99&units=metric&appid=bb401b5a4e5bdb3c13381223d0e298bf`);
            console.log(weather)
            let temp = ''
            if (weather) {
                temp = weather.main.temp;
                document.getElementById('temp').innerHTML = `The temperature in our main branch is: ${temp}`;
            }
            

        }
        fetchWeather()
        

        function onDisconnect() {
            window.location.href = '/'; // Replace with your logout URL
            $.ajax({
                url: `/login/logout`,
                method: "POST",
                dataType: "json",
                success: function (response) {
                    let alertStr = "disconnected";
                    // alert(alertStr);
                },
                error: function (xhr, status, error) {
                    console.log("AJAX request failed: " + error);
                },
            });
        }

      </script>
    
    </section>
<footer>
            <div>
      
                <p class="mb-0">Copyright Â© 2023 Tamy</p>
              </div>
        </div>
    </footer>
    <script src="assets/bootstrap/js/bootstrap.min.js"></script>
    <script src="assets/js/bold-and-bright.js"></script>
</body>


</html>
<style>
    /* General button styling */
    button {
        background-color: #3763f4;
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 4px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    button:hover {
        background-color: #2146b6;
    }

    /* Navbar styling */
    .navbar {
        background-color: #f8f9fa; /* Light gray background */
        border-bottom: 1px solid #ccc;
    }


    .navbar-nav .nav-item {
        color: #3763f4; /* Blue color for links */
    }

    .navbar-nav .nav-item  {
        color: #2146b6; /* Darker blue color for active links */
    }

    /* Header section styling */
    .bg-primary-gradient {
        background: linear-gradient(to bottom, #ffffff, #c3f6ff); /* Gradient background */
        color: rgb(0, 0, 0); /* White text color */
    }

    /* Testimonials section styling */
    .bg-body-tertiary {
        background-color: #f0f0f0; /* Light gray background */
    }

    /* Footer styling */
    footer {
        background-color: #f8f9fa; /* Light gray background */
        padding: 20px 0;
        text-align: center;
        color: #6c757d; /* Gray text color */
    }

    /* Map styling */
    #map-container {
        margin-top: 20px;
        text-align: center;
    }

    /* Adjust map height */
    #map {
        width: 100%;
        height: 400px;
    }
    p{
        color:rgb(0, 0, 0);
    }

    #temp {
        text-align: center;
        font-weight: bold;
    }
</style>